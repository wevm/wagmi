---
title: 'MetaMask'
description: 'Official wagmi Connector for MetaMask.'
---

import { Callout } from 'nextra-theme-docs'

# MetaMask

The `MetaMaskConnector` supports connecting with MetaMask.

```ts
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'
```

## Usage

```ts
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector()
```

## Configuration

### chains (optional)

Chains supported by app. Defaults to `defaultChains`.

```ts {5}
import { mainnet, optimism } from 'wagmi/chains'
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector({
  chains: [mainnet, optimism],
})
```

### options (optional)

Options for configuring the connector.

```ts {4-6}
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector({
  options: {
    shimDisconnect: true,
  },
})
```

#### shimDisconnect

MetaMask [does not support programmatic disconnect](https://github.com/MetaMask/metamask-extension/issues/10353). This flag simulates the disconnect behavior by keeping track of connection status in storage. Defaults to `true`.

```ts {5}
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector({
  options: {
    shimDisconnect: false,
  },
})
```

#### UNSTABLE_shimOnConnectSelectAccount

<Callout type="warning">
  This is an experimental feature. It's stable enough to show up in the docs,
  but should be used with care. If you have any feedback, [create a
  discussion](https://github.com/wagmi-dev/wagmi/discussions).
</Callout>

While "disconnected" with `shimDisconnect`, allows user to select a different MetaMask account (than the currently connected account) when trying to connect. Defaults to `false`.

```ts {6}
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector({
  options: {
    shimDisconnect: true,
    UNSTABLE_shimOnConnectSelectAccount: true,
  },
})
```
