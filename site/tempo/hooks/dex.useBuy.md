# `dex.useBuy`

Buys a specific amount of tokens from the Stablecoin DEX orderbook.

## Usage

::: code-group
```ts twoslash [example.ts]
// @twoslash-cache: {"v":1,"hash":"19b864958a3edb268ed55df991f577eacfa8b004aba94539562aed8b4486c2ef","data":"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="}
import { Hooks } from 'wagmi/tempo'
import { parseUnits } from 'viem'

const buySync = Hooks.dex.useBuySync()

// Call `mutate` in response to user action (e.g. button click, form submission)
buySync.mutate({
  amountOut: parseUnits('100', 6),
  maxAmountIn: parseUnits('105', 6),
  tokenIn: '0x20c0000000000000000000000000000000000001',
  tokenOut: '0x20c0000000000000000000000000000000000002',
})

console.log('Transaction hash:', buySync.data?.receipt.transactionHash)
```
<<< @/snippets/react/config-tempo.ts{ts} [config.ts]
:::

### Asynchronous Usage

The example above uses a `*Sync` variant of the action, that will wait for the transaction to be included before returning.

If you are optimizing for performance, you should use the non-sync `dex.buy` action and wait for inclusion manually:

```ts
import { Hooks } from 'wagmi/tempo'
import { parseUnits } from 'viem'
import { useWaitForTransactionReceipt } from 'wagmi'

const buy = Hooks.dex.useBuy()
const { data: receipt } = useWaitForTransactionReceipt({ hash: buy.data })

// Call `mutate` in response to user action (e.g. button click, form submission)
buy.mutate({
  amountOut: parseUnits('100', 6),
  maxAmountIn: parseUnits('105', 6),
  tokenIn: '0x20c0000000000000000000000000000000000001',
  tokenOut: '0x20c0000000000000000000000000000000000002',
})
```

## Return Type

See [TanStack Query mutation docs](https://tanstack.com/query/v5/docs/framework/react/reference/useMutation) for more info hook return types.

### data

See [Wagmi Action `dex.buy` Return Type](/tempo/actions/dex.buy#return-type)

### mutate/mutateAsync

See [Wagmi Action `dex.buy` Parameters](/tempo/actions/dex.buy#parameters)

## Parameters

### config

`Config | undefined`

[`Config`](https://wagmi.sh/react/api/createConfig#config) to use instead of retrieving from the nearest [`WagmiProvider`](https://wagmi.sh/react/api/WagmiProvider).

### mutation

See the [TanStack Query mutation docs](https://tanstack.com/query/v5/docs/framework/react/reference/useMutation) for more info hook parameters.

## Action

- [`dex.buy`](/tempo/actions/dex.buy)
